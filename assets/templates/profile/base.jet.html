{*
SPDX-FileCopyrightText: Â© 2021 Olivier Meunier <olivier@neokraft.net>

SPDX-License-Identifier: AGPL-3.0-only
*}
{{ extends "/_layouts/sidemenu_std" }}

{{- block __sideMenuExtended() -}}{{- end -}}

{{- block sideMenu() -}}
{{- yield sideMenuTitle() content -}}{{ gettext("Settings") }}{{- end }}

  <menu class="my-4">
    <li><a href="{{ urlFor(`/profile`) }}"
    data-current="{{ pathIs(`/profile`) }}">{{ yield icon(name="o-user") }}
      {{ gettext("Profile") }}</a></li>
    <li><a href="{{ urlFor(`/profile/password`) }}"
    data-current="{{ pathIs(`/profile/password`) }}">{{ yield icon(name="o-lock") }}
      {{ gettext("Password") }}</a></li>
    {{ if hasPermission("profile:tokens", "read") -}}
      <li><a href="{{ urlFor(`/profile/applications`) }}"
      data-current="{{ pathIs(`/profile/applications`) }}">{{ yield icon(name="o-applications") }}
        {{ gettext("Applications") }}</a></li>
      <li><a href="{{ urlFor(`/profile/tokens`) }}"
      data-current="{{ pathIs(`/profile/tokens`, `/profile/tokens/*`) }}">{{ yield icon(name="o-key") }}
        {{ gettext("API Tokens") }}</a></li>
    {{- end }}
  </menu>

  <hr class="w-[25%] border-gray-200 mx-auto">
  <menu class="my-4">
    <li><a href="{{ urlFor(`/profile/export`) }}"
    data-current="{{ pathIs(`/profile/export`) }}">{{ yield icon(name="o-export") }}
      {{ gettext("Export") }}</a></li>
    <li><a href="{{ urlFor(`/profile/import`) }}"
    data-current="{{ pathIs(`/profile/import`) }}">{{ yield icon(name="o-import") }}
      {{ gettext("Import") }}</a></li>
  </menu>

  {{- if  hasPermission("admin:users", "read") -}}
    <hr class="w-[25%] border-gray-200 mx-auto">
    <menu class="my-4">
      <li><a href="{{ urlFor(`/admin/users`) }}"
      data-current="{{ pathIs(`/admin/users`, `/admin/users/*`) }}">{{ yield icon(name="o-user-admin") }}
        {{ gettext("Users") }}</a></li>
    </menu>
  {{- end -}}
  {{ yield __sideMenuExtended() }}
{{- end -}}
