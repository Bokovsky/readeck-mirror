// SPDX-FileCopyrightText: Â© 2025 Olivier Meunier <olivier@neokraft.net>
//
// SPDX-License-Identifier: AGPL-3.0-only

.dialog {
  position: fixed;
  z-index: 50;
  margin: 0;

  --dialog-spacing: 0px;
  width: calc(100% - var(--dialog-spacing));
  max-width: calc(100% - var(--dialog-spacing));
  height: calc(100vh - var(--dialog-spacing));
  max-height: calc(100vh - var(--dialog-spacing));
  @screen lg {
    --dialog-spacing: theme("spacing.16");
    left: 50%;
    margin-left: calc(-50% + var(--dialog-spacing) / 2);
    top: 50%;
    margin-top: calc(-50vh + var(--dialog-spacing) / 2);
    @apply rounded-lg shadow-lg shadow-black;
  }

  @apply bg-app-bg text-app-fg;

  &:open {
    display: flex;
    flex-direction: column;
  }

  &::backdrop {
    background-color: rgba(0, 0, 0, 0.6);
  }

  &--top {
    @apply bg-gray-200 text-gray-50 sticky top-0;
    @apply p-2;
    @apply flex;
    z-index: 60;

    @screen lg {
      @apply rounded-t-lg;
    }
  }

  &--top &--close {
    @apply ml-auto;
    @apply text-gray-700 hf:text-gray-900;
  }

  &--content {
    @apply p-4 overflow-auto;
  }
}

body:has(.dialog:open) {
  @apply overflow-hidden;
}
